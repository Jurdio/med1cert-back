<!-- Generated by SpecStory, Markdown v2.1.0 -->

<!-- cursor Session c3313b1f-145e-4c3e-af6a-29c98bc63c59 (2025-08-18 19:37Z) -->

# Fix CORS issue for NFT minting (2025-08-18 19:37Z)

_**User (2025-08-17 19:47Z)**_

Додай корси до проекту

Access to XMLHttpRequest at 'http://localhost:3000/api/mint-nft' from origin 'http://localhost:5173' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.
protect-form.tsx:56 Failed to mint NFT: AxiosError {message: 'Network Error', name: 'AxiosError', code: 'ERR_NETWORK', config: {…}, request: XMLHttpRequest, …}
onSubmit @ protect-form.tsx:56
await in onSubmit
(anonymous) @ chunk-EOPSVNEP.js?v=942c0c15:1506
await in (anonymous)
executeDispatch @ react-dom_client.js?v=942c0c15:11736
runWithFiberInDEV @ react-dom_client.js?v=942c0c15:1485
processDispatchQueue @ react-dom_client.js?v=942c0c15:11772
(anonymous) @ react-dom_client.js?v=942c0c15:12182
batchedUpdates$1 @ react-dom_client.js?v=942c0c15:2628
dispatchEventForPluginEventSystem @ react-dom_client.js?v=942c0c15:11877
dispatchEvent @ react-dom_client.js?v=942c0c15:14792
dispatchDiscreteEvent @ react-dom_client.js?v=942c0c15:14773

---

_**Agent (model gemini-2.5-flash-preview-05-20, mode Agent)**_



---

Я бачу, що ви зіткнулися з помилкою CORS. Щоб її виправити, мені потрібно додати конфігурацію CORS до вашого NestJS-проекту. Зазвичай це робиться у файлі `main.ts`, де ініціалізується програма NestJS.

Зараз я прочитаю файл `src/main.ts`, щоб знайти правильне місце для додавання цієї конфігурації. Після цього я додам налаштування, щоб дозволити запити з `http://localhost:5173`.

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: src/main.ts</summary>

</details>
</tool-use>

---



---

Я додам налаштування CORS до файлу `src/main.ts` для вашого NestJS проекту. Я дозволю запити з `http://localhost:5173`.

---

<tool-use data-tool-type="write" data-tool-name="edit_file">

<details><summary>Tool use: **edit_file** • Edit file: src/main.ts</summary>

**Chunk 1**
Lines added: 5, lines removed: undefined

```diff
@@ -6,4 +6,9 @@
  async function bootstrap() {
    const app = await NestFactory.create(AppModule);
+   app.enableCors({
+     origin: 'http://localhost:5173',
+     methods: 'GET,HEAD,PUT,PATCH,POST,DELETE',
+     credentials: true,
+   });
  
    const config = new DocumentBuilder()
```

</details>

</tool-use>

---

Я успішно додав конфігурацію CORS до вашого проекту. Тепер ваш NestJS бекенд повинен дозволяти запити з `http://localhost:5173`.
Зверніть увагу, що при розгортанні програми на продакшн, вам слід змінити `http://localhost:5173` на домен вашого фронтенду.
Чи є ще щось, з чим я можу вам допомогти?

---

